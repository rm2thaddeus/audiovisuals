<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CLIP-Optimized CPPN Results - Two Tracks</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: #0a0a0a;
            color: #e0e0e0;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            padding: 40px 0;
            border-bottom: 2px solid #333;
            margin-bottom: 40px;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .subtitle {
            font-size: 1.2em;
            color: #888;
            margin-bottom: 20px;
        }
        
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid #333;
        }
        
        .tab {
            padding: 15px 30px;
            background: #1a1a1a;
            border: 1px solid #333;
            border-bottom: none;
            border-radius: 8px 8px 0 0;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1.1em;
        }
        
        .tab:hover {
            background: #222;
        }
        
        .tab.active {
            background: #667eea;
            border-color: #667eea;
            color: white;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .track-header {
            background: #1a1a1a;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #333;
            margin-bottom: 30px;
        }
        
        .track-header h2 {
            color: #667eea;
            margin-bottom: 10px;
        }
        
        .track-info {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-top: 15px;
        }
        
        .track-stat {
            background: #2a2a2a;
            padding: 12px;
            border-radius: 6px;
            text-align: center;
        }
        
        .track-stat-label {
            font-size: 0.85em;
            color: #888;
        }
        
        .track-stat-value {
            font-size: 1.1em;
            color: #667eea;
            font-weight: bold;
            margin-top: 5px;
        }
        
        .info-box {
            background: #1a1a1a;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #333;
            margin-bottom: 30px;
        }
        
        .info-box h2 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.4em;
        }
        
        .info-box p {
            color: #bbb;
            margin-bottom: 10px;
        }
        
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .video-card {
            background: #1a1a1a;
            border-radius: 12px;
            overflow: hidden;
            border: 2px solid #333;
            transition: transform 0.2s, border-color 0.2s;
        }
        
        .video-card:hover {
            transform: translateY(-2px);
            border-color: #667eea;
        }
        
        .video-card.winner {
            border-color: #4CAF50;
            box-shadow: 0 0 20px rgba(76, 175, 80, 0.3);
        }
        
        .card-header {
            padding: 20px;
            background: #222;
            border-bottom: 1px solid #333;
        }
        
        .card-header h3 {
            font-size: 1.5em;
            margin-bottom: 5px;
        }
        
        .winner-badge {
            display: inline-block;
            background: #4CAF50;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: bold;
            margin-left: 10px;
        }
        
        .card-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 15px;
        }
        
        .stat {
            background: #2a2a2a;
            padding: 10px;
            border-radius: 6px;
        }
        
        .stat-label {
            font-size: 0.85em;
            color: #888;
            margin-bottom: 3px;
        }
        
        .stat-value {
            font-size: 1.2em;
            color: #667eea;
            font-weight: bold;
        }
        
        .video-container {
            position: relative;
            width: 100%;
            background: #000;
        }
        
        video {
            width: 100%;
            display: block;
        }
        
        .card-footer {
            padding: 20px;
        }
        
        .download-btn {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 12px 24px;
            border-radius: 6px;
            text-decoration: none;
            font-weight: bold;
            transition: background 0.2s;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        
        .download-btn:hover {
            background: #5568d3;
        }
        
        .weights-btn {
            background: #764ba2;
        }
        
        .weights-btn:hover {
            background: #654090;
        }
        
        .technical-details {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-top: 30px;
        }
        
        .detail-card {
            background: #1a1a1a;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #333;
        }
        
        .detail-card h4 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.1em;
        }
        
        .detail-card ul {
            list-style: none;
        }
        
        .detail-card li {
            padding: 8px 0;
            border-bottom: 1px solid #2a2a2a;
            color: #bbb;
        }
        
        .detail-card li:last-child {
            border-bottom: none;
        }
        
        @media (max-width: 968px) {
            .comparison-grid {
                grid-template-columns: 1fr;
            }
            
            .technical-details {
                grid-template-columns: 1fr;
            }
            
            .track-info {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>CLIP-Optimized CPPN Visualizations</h1>
            <p class="subtitle">"Organic flowing shapes diffusing into each other with strong contrast"</p>
            <p style="color: #666;">Two Tracks | 720p @ 30 FPS | Same Optimized Style</p>
        </header>

        <div class="info-box">
            <h2>üé® About This Optimization</h2>
            <p><strong>Method:</strong> CLIP-guided gradient descent on CPPN weights</p>
            <p><strong>CLIP Model:</strong> OpenAI RN50</p>
            <p><strong>Training:</strong> Multi-resolution pyramid (256√ó256 ‚Üí 512√ó512), 400 iterations per resolution</p>
            <p><strong>Goal:</strong> Learn network weights that generate patterns matching the text prompt</p>
            <p><strong>Result:</strong> Same aesthetic style applied to different music ‚Üí different visual responses!</p>
            <p><strong>Date:</strong> October 11, 2025</p>
        </div>

        <div class="tabs">
            <div class="tab active" onclick="showTab('tool')">TOOL - The Pot</div>
            <div class="tab" onclick="showTab('zyryab')">Zyryab</div>
        </div>

        <!-- TOOL - The Pot Tab -->
        <div id="tool-content" class="tab-content active">
            <div class="track-header">
                <h2>üé∏ TOOL - The Pot</h2>
                <p style="color: #aaa;">Progressive rock with dynamic intensity changes</p>
                <div class="track-info">
                    <div class="track-stat">
                        <div class="track-stat-label">Duration</div>
                        <div class="track-stat-value">6:23</div>
                    </div>
                    <div class="track-stat">
                        <div class="track-stat-label">File Size (128 dim)</div>
                        <div class="track-stat-value">409 MB</div>
                    </div>
                    <div class="track-stat">
                        <div class="track-stat-label">File Size (256 dim)</div>
                        <div class="track-stat-value">390 MB</div>
                    </div>
                    <div class="track-stat">
                        <div class="track-stat-label">Processing Time</div>
                        <div class="track-stat-value">~9 min each</div>
                    </div>
                </div>
            </div>

            <h2 style="margin-bottom: 30px; text-align: center;">Architecture Comparison</h2>

            <div class="comparison-grid">
                <!-- 128 Dim - Winner -->
                <div class="video-card winner">
                    <div class="card-header">
                        <h3>
                            128 Hidden Dimensions
                            <span class="winner-badge">üèÜ WINNER</span>
                        </h3>
                        <div class="card-stats">
                            <div class="stat">
                                <div class="stat-label">CLIP Similarity</div>
                                <div class="stat-value">0.2452</div>
                            </div>
                            <div class="stat">
                                <div class="stat-label">Parameters</div>
                                <div class="stat-value">51.6K</div>
                            </div>
                            <div class="stat">
                                <div class="stat-label">Architecture</div>
                                <div class="stat-value">4√ó128</div>
                            </div>
                            <div class="stat">
                                <div class="stat-label">Inference Speed</div>
                                <div class="stat-value">0.69x RT</div>
                            </div>
                        </div>
                    </div>
                    <div class="video-container">
                        <video controls preload="metadata" poster="../backend/explorations/trained/clip_organic_20251011/organic_diffuse_128dim.png">
                            <source src="organic_diffuse_128dim_full.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                    <div class="card-footer">
                        <p style="color: #aaa; margin-bottom: 15px;">
                            <strong>Why it won:</strong> Clearer organic shapes, better contrast, less chaotic. 
                            Simpler network optimized better for this specific aesthetic.
                        </p>
                        <a href="organic_diffuse_128dim_full.mp4" download class="download-btn">‚¨á Download Video</a>
                        <a href="../backend/explorations/trained/clip_organic_20251011/organic_diffuse_128dim.pth" download class="download-btn weights-btn">‚¨á Download Weights</a>
                    </div>
                </div>

                <!-- 256 Dim -->
                <div class="video-card">
                    <div class="card-header">
                        <h3>256 Hidden Dimensions</h3>
                        <div class="card-stats">
                            <div class="stat">
                                <div class="stat-label">CLIP Similarity</div>
                                <div class="stat-value">0.2217</div>
                            </div>
                            <div class="stat">
                                <div class="stat-label">Parameters</div>
                                <div class="stat-value">201.5K</div>
                            </div>
                            <div class="stat">
                                <div class="stat-label">Architecture</div>
                                <div class="stat-value">4√ó256</div>
                            </div>
                            <div class="stat">
                                <div class="stat-label">Inference Speed</div>
                                <div class="stat-value">0.54x RT</div>
                            </div>
                        </div>
                    </div>
                    <div class="video-container">
                        <video controls preload="metadata" poster="../backend/explorations/trained/clip_organic_20251011/organic_diffuse_256dim.png">
                            <source src="organic_diffuse_256dim_full.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                    <div class="card-footer">
                        <p style="color: #aaa; margin-bottom: 15px;">
                            <strong>Characteristics:</strong> More complex, detailed patterns. Higher capacity but more chaotic. 
                            May be better for different aesthetic goals.
                        </p>
                        <a href="organic_diffuse_256dim_full.mp4" download class="download-btn">‚¨á Download Video</a>
                        <a href="../backend/explorations/trained/clip_organic_20251011/organic_diffuse_256dim.pth" download class="download-btn weights-btn">‚¨á Download Weights</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Zyryab Tab -->
        <div id="zyryab-content" class="tab-content">
            <div class="track-header">
                <h2>üéµ Zyryab</h2>
                <p style="color: #aaa;">Different musical character, same visual aesthetic</p>
                <div class="track-info">
                    <div class="track-stat">
                        <div class="track-stat-label">Duration</div>
                        <div class="track-stat-value">TBD</div>
                    </div>
                    <div class="track-stat">
                        <div class="track-stat-label">Style</div>
                        <div class="track-stat-value">Same CLIP</div>
                    </div>
                    <div class="track-stat">
                        <div class="track-stat-label">Architecture</div>
                        <div class="track-stat-value">Both</div>
                    </div>
                    <div class="track-stat">
                        <div class="track-stat-label">Status</div>
                        <div class="track-stat-value">Rendering...</div>
                    </div>
                </div>
            </div>

            <h2 style="margin-bottom: 30px; text-align: center;">Same Aesthetic, Different Music</h2>

            <div class="comparison-grid">
                <!-- 128 Dim -->
                <div class="video-card winner">
                    <div class="card-header">
                        <h3>
                            128 Hidden Dimensions
                            <span class="winner-badge">üèÜ WINNER</span>
                        </h3>
                        <div class="card-stats">
                            <div class="stat">
                                <div class="stat-label">CLIP Similarity</div>
                                <div class="stat-value">0.2452</div>
                            </div>
                            <div class="stat">
                                <div class="stat-label">Parameters</div>
                                <div class="stat-value">51.6K</div>
                            </div>
                            <div class="stat">
                                <div class="stat-label">Architecture</div>
                                <div class="stat-value">4√ó128</div>
                            </div>
                            <div class="stat">
                                <div class="stat-label">Audio Reactive</div>
                                <div class="stat-value">Yes</div>
                            </div>
                        </div>
                    </div>
                    <div class="video-container">
                        <video controls preload="metadata">
                            <source src="zyryab_organic_128dim.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                    <div class="card-footer">
                        <p style="color: #aaa; margin-bottom: 15px;">
                            <strong>Audio Reactivity:</strong> Same trained style responds differently to Zyryab's unique character. 
                            Patterns adapt to this track's tempo, energy, and spectral content.
                        </p>
                        <a href="zyryab_organic_128dim.mp4" download class="download-btn">‚¨á Download Video</a>
                        <a href="../backend/explorations/trained/clip_organic_20251011/organic_diffuse_128dim.pth" download class="download-btn weights-btn">‚¨á Download Weights</a>
                    </div>
                </div>

                <!-- 256 Dim -->
                <div class="video-card">
                    <div class="card-header">
                        <h3>256 Hidden Dimensions</h3>
                        <div class="card-stats">
                            <div class="stat">
                                <div class="stat-label">CLIP Similarity</div>
                                <div class="stat-value">0.2217</div>
                            </div>
                            <div class="stat">
                                <div class="stat-label">Parameters</div>
                                <div class="stat-value">201.5K</div>
                            </div>
                            <div class="stat">
                                <div class="stat-label">Architecture</div>
                                <div class="stat-value">4√ó256</div>
                            </div>
                            <div class="stat">
                                <div class="stat-label">Audio Reactive</div>
                                <div class="stat-value">Yes</div>
                            </div>
                        </div>
                    </div>
                    <div class="video-container">
                        <video controls preload="metadata">
                            <source src="zyryab_organic_256dim.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                    <div class="card-footer">
                        <p style="color: #aaa; margin-bottom: 15px;">
                            <strong>Comparison:</strong> More complex network creates denser patterns. 
                            Same audio features, different interpretation.
                        </p>
                        <a href="zyryab_organic_256dim.mp4" download class="download-btn">‚¨á Download Video</a>
                        <a href="../backend/explorations/trained/clip_organic_20251011/organic_diffuse_256dim.pth" download class="download-btn weights-btn">‚¨á Download Weights</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="info-box" style="margin-top: 60px;">
            <h2>üí° Key Insight: Reusable Styles</h2>
            <p><strong>One optimization, multiple tracks!</strong></p>
            <p style="margin-top: 15px; color: #bbb;">
                The CLIP-optimized networks learned a <strong>visual aesthetic</strong>, not a specific song. 
                This means you can apply the same weights to any audio and get consistent visual style that 
                reacts to the new music's features. This is the power of trained networks vs random parameters!
            </p>
        </div>

        <div style="margin-top: 60px; padding-top: 40px; border-top: 2px solid #333;">
            <h2 style="margin-bottom: 30px;">Technical Details</h2>
            <div class="technical-details">
                <div class="detail-card">
                    <h4>üéØ Optimization</h4>
                    <ul>
                        <li><strong>Loss:</strong> -CLIP Similarity</li>
                        <li><strong>Optimizer:</strong> Adam (lr=0.001)</li>
                        <li><strong>Iterations:</strong> 800 total (400√ó2)</li>
                        <li><strong>Training Time:</strong> ~6-8 min each</li>
                        <li><strong>Precision:</strong> FP32 (stable gradients)</li>
                    </ul>
                </div>

                <div class="detail-card">
                    <h4>üß† CPPN Architecture</h4>
                    <ul>
                        <li><strong>Layers:</strong> 4 hidden layers</li>
                        <li><strong>Activations:</strong> sin/cos/gaussian/tanh</li>
                        <li><strong>Input:</strong> x, y, time, audio (12D)</li>
                        <li><strong>Output:</strong> RGB (3D)</li>
                        <li><strong>Weight Init:</strong> Xavier gain=5.0</li>
                    </ul>
                </div>

                <div class="detail-card">
                    <h4>üéµ Audio Features</h4>
                    <ul>
                        <li><strong>FFT Bands:</strong> Bass, Mid, Treble</li>
                        <li><strong>Spectral:</strong> Centroid, Rolloff, Flux</li>
                        <li><strong>Temporal:</strong> Time, Beat, RMS</li>
                        <li><strong>Sample Rate:</strong> 30 Hz</li>
                        <li><strong>Audio Scale:</strong> 0.10</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="info-box" style="margin-top: 30px; background: #1a1a2e;">
            <h2>üöÄ Use These Weights for Your Music</h2>
            <p><strong>Generate with the winner style (128 dim):</strong></p>
            <pre style="background: #0a0a0a; padding: 15px; border-radius: 6px; overflow-x: auto; margin-top: 15px; color: #4CAF50;">
python cli.py your_audio.mp3 output.mp4 \
    --load-weights explorations/trained/clip_organic_20251011/organic_diffuse_128dim.pth \
    --resolution 720p --fps 30 --audio-scale 0.10
            </pre>
            <p style="margin-top: 15px;"><strong>Create a new CLIP-optimized style:</strong></p>
            <pre style="background: #0a0a0a; padding: 15px; border-radius: 6px; overflow-x: auto; margin-top: 15px; color: #667eea;">
python clip_optimize_cppn.py \
    --prompt "YOUR AESTHETIC DESCRIPTION" \
    --audio "audio.mp3" \
    --output "styles/mystyle.pth" \
    --hidden-dim 128 \
    --iterations 400
            </pre>
        </div>

        <footer style="text-align: center; padding: 40px 0; margin-top: 60px; border-top: 1px solid #333; color: #666;">
            <p>Generated with CLIP-Guided CPPN Optimization | October 11, 2025</p>
            <p style="margin-top: 10px;">Audio Feature Explorer - Phase 2 POC</p>
        </footer>
    </div>

    <script>
        function showTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(tabName + '-content').classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }
    </script>
</body>
</html>
